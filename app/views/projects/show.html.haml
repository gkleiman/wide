- content_for :javascripts do
  = javascript_include_tag 'jquery.cookie.js', 'jquery.hotkeys.js',
    'jquery.tmpl.min.js', 'jquery.jstree.js', 'jquery.jstree.overlays.js',
    'jlayout.border.min.js', 'jquery.sizes.min.js', 'jquery.jlayout.min.js',
    :cache => 'external'
  = javascript_include_tag 'file.js','tree.js', 'compiler_output.js',
    'toolbar.js', 'compile.js', 'editor.js', 'commit_dialog.js', 'layout.js',
    'pull_dialog.js', 'async_op.js', :cache => 'project'
  %meta{:name => 'project_id', :content => @project.to_param}
  %link(id='bespin_base' href='/bespin')
  = javascript_include_tag '/bespin/BespinEmbedded.js'

- title "wIDE | #{current_user.user_name} | #{@project.name}", false

- content_for :alternative_title do
  %h1= raw("wIDE | #{link_to("My Projects", projects_path)} | #{h(@project.name)}")

.layout
  #toolbar.north
    - if @project.repository.supports_commit?
      %button#commit_button Commit
    - if @project.repository.supports_pull?
      %button#pull_button Pull
    %button#compile_button Compile
    %button#save_all_button Save All
    %button#save_button Save

  #tree_pane.west
    #tree
  #central_pane.center
    #tabs.center
      %ul
    = render 'compiler_output'

= render :partial => 'commit_dialog', :project => @project
= render :partial => 'pull_dialog', :project => @project
