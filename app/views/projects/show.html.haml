- content_for :javascripts do
  = javascript_include_tag 'jquery.cookie.js', 'jquery.hotkeys.js',
    'jquery.jstree.js', 'jquery.jstree.overlays.js', 'file.js','tree.js',
    'editor.js', 'commit_dialog.js', 'jlayout.border.min.js',
    'jquery.jlayout.min.js', 'jquery.sizes.min.js', 'layout.js',
    'jquery.tmpl.min.js'
  %link(id='bespin_base' href='/bespin')
  %meta{:name => 'project_id', :content => @project.to_param}
  = javascript_include_tag '/bespin/BespinEmbedded.js'

- title "wIDE | #{current_user.email} | #{@project.name}", false

- content_for :alternative_title do
  #title
    %h1.ui-widget-header= raw("wIDE | #{link_to(h(current_user.email), root_path)} | #{h(@project.name)}")

.layout
  #toolbar.north
    %button#add_file_button Add File
    %button#add_directory_button Add Folder
    %button#rename_button Rename
    %button#remove_button Remove
    - if @project.repository.supports_commit?
      %button#commit_button Commit

  #tree_pane.west
    #tree
  #central_pane.center
    #notification.ui-widget.ui-helper-hidden
      - flash.each do |name, msg|
        = content_tag :div, msg, :id => "flash_#{name}"
    #tabs
      %ul

= render :partial => 'commit_dialog', :project => @project
