!!!
%html
  %head
    %title
      = h(yield(:title) || "wIDE")
    %meta{"http-equiv"=>"Content-Type", :content=>"text/html; charset=utf-8"}/
    = stylesheet_link_tag :all, :cache => true
    = stylesheet_link_tag 'smoothness/jquery-ui-1.8.5.custom.css'
    = yield :stylesheets

    = javascript_include_tag :defaults
    = javascript_include_tag 'wide.js', 'notifications.js', 'simple_forms.js', :cache => 'base';
    = yield :javascripts

    = csrf_meta_tag

  %body
    #container.ui-widget-content

      #title.ui-widget-header
        - if show_title?
          %h1=h yield(:title)
        = yield :alternative_title
        - if user_signed_in?
          %ul#navbar
            %li.username= current_user.user_name
            %li.separator= "|"
            %li= link_to 'Sign out', destroy_user_session_path

      - notification_class = 'ui-state-error' if flash[:alert]
      - notification_class ||= 'ui-state-highlight' if flash[:notice]
      - notification_class ||= 'ui-helper-hidden'
      #notification-wrapper.ui-widget
        #notification{:class => notification_class}
          - if flash[:alert]
            %span.ui-icon.ui-icon-alert
            = flash[:alert]
          - if flash[:notice]
            %span.ui-icon.ui-icon-info
            = flash[:notice]
      = yield
